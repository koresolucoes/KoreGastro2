# ChefOS - Sistema de Gest√£o de Restaurantes

**ChefOS** √© um sistema de gest√£o para restaurantes completo, moderno e integrado. Desenvolvido com as tecnologias mais recentes, ele oferece uma solu√ß√£o completa para otimizar opera√ß√µes, desde o atendimento ao cliente no Ponto de Venda (PDV) at√© o controle de estoque, gest√£o de RH, reservas e an√°lise de desempenho, tudo sincronizado em tempo real.

O sistema foi projetado para ser intuitivo, eficiente e poderoso, incorporando intelig√™ncia artificial para auxiliar em tarefas complexas como a cria√ß√£o de fichas t√©cnicas e a previs√£o de compras.

---

## üöÄ Acesso √† Vers√£o de Testes

**O ChefOS est√° atualmente em uma fase exclusiva de testes.** Para explorar a plataforma e todas as suas funcionalidades, √© necess√°rio solicitar credenciais de acesso.

**Entre em contato para receber seu login de avalia√ß√£o e testar o sistema.**

---

## ‚ú® Funcionalidades Principais

O ChefOS √© modular e cobre todas as √°reas cr√≠ticas da gest√£o de um restaurante:

### üìä **Dashboard Anal√≠tico**
- **Vis√£o Geral em Tempo Real:** Acompanhe os principais indicadores de desempenho (KPIs) do dia assim que voc√™ entra no sistema.
- **M√©tricas Financeiras Chave:** Vendas totais, **Lucro Bruto**, **Ticket M√©dio**, mesas ocupadas, contagem de itens com estoque baixo e pedidos pendentes na cozinha.
- **Gr√°fico de Vendas vs. CMV:** An√°lise visual do faturamento contra o custo dos produtos vendidos nos √∫ltimos 7 ou 30 dias.
- **An√°lises R√°pidas:** Rankings com os itens mais vendidos do dia, incluindo a **margem de lucro** individual de cada um, e uma lista das transa√ß√µes de venda mais recentes.

### üçΩÔ∏è **PDV (Ponto de Venda)**
- **Gerenciamento Visual de Mesas:** Crie m√∫ltiplos sal√µes e organize as mesas com uma interface de arrastar e soltar (drag-and-drop).
- **Editor de Layout Completo:** No modo de edi√ß√£o, adicione, delete, redimensione e altere o n√∫mero das mesas para espelhar perfeitamente o layout do seu sal√£o.
- **Lan√ßamento de Pedidos:** Uma interface r√°pida e intuitiva para gar√ßons lan√ßarem pedidos diretamente na mesa a partir de um menu categorizado e com busca.
- **Status em Tempo Real:** As cores das mesas mudam instantaneamente (`Livre`, `Ocupada`, `Pagando`), mantendo toda a equipe sincronizada.
- **Associa√ß√£o de Clientes:** Vincule um cliente do seu cadastro a uma mesa para registrar o hist√≥rico de consumo e habilitar o resgate de pr√™mios de fidelidade.
- **A√ß√µes R√°pidas:** Imprima pr√©-contas, mova pedidos entre mesas e aplique descontos diretamente no painel do pedido.

### üç≥ **KDS (Kitchen Display System)**
- **Comandas Digitais:** Substitua as comandas de papel por um sistema digital eficiente que envia pedidos diretamente para as esta√ß√µes corretas (Cozinha, Bar, etc.).
- **Timers Inteligentes:** Cada item e pedido possui um timer de preparo, com cores que indicam o andamento e alertam sobre atrasos.
- **Alertas Sonoros:** Notifica√ß√µes aud√≠veis para novos pedidos, itens atrasados e, mais importante, **alertas de aten√ß√£o** para itens com observa√ß√µes cr√≠ticas (como alergias).
- **Fluxo de Seguran√ßa:** Itens com observa√ß√µes cr√≠ticas exigem um passo de "confirma√ß√£o de ci√™ncia" pela cozinha, garantindo que a informa√ß√£o foi lida.
- **L√≥gica de Reten√ß√£o (Hold):** O sistema calcula o tempo de preparo de cada item e segura os pratos mais r√°pidos para que tudo fique pronto ao mesmo tempo.
- **Modo "Expo":** Uma tela centralizada para o chef ou expedidor visualizar todos os itens prontos e garantir que os pedidos saiam completos e no tempo certo.

### üí∞ **Caixa (Cashier)**
- **Venda R√°pida:** Um PDV simplificado para vendas no balc√£o. Os pedidos podem ser pagos na hora ou enviados para a cozinha para pagamento posterior.
- **Fechamento de Conta:** Processe pagamentos das mesas e das vendas r√°pidas em espera. Suporta **m√∫ltiplos m√©todos de pagamento** para dividir a conta.
- **Gest√£o de Caixa:** Registre despesas, confira o saldo e realize o fechamento de caixa detalhado, que compara o valor esperado com o contado e gera um resumo para impress√£o.
- **Reimpress√£o:** Acesse o hist√≥rico de vendas do dia para reimprimir recibos ou conferir detalhes.

### üì¶ **Estoque e Compras**
- **Controle de Insumos:** Gerencie todos os seus ingredientes, custos, unidades e fornecedores.
- **Alertas Automatizados:** O dashboard sinaliza itens com estoque baixo, pr√≥ximos ao vencimento ou parados h√° muito tempo.
- **Controle de Lotes:** Registre n√∫meros de lote e datas de validade para insumos recebidos, garantindo total rastreabilidade.
- **Contagem de Estoque (Auditoria):** Uma tela dedicada para realizar a contagem f√≠sica do invent√°rio. O sistema mostra a diferen√ßa entre o estoque contado e o do sistema e permite ajustar tudo com um √∫nico clique.
- **Previs√£o com IA (Gemini):** Utilize o hist√≥rico de vendas para prever a necessidade de compra de insumos para a pr√≥xima semana.
- **Ordens de Compra:** Crie, gerencie e receba ordens de compra. A IA pode gerar uma ordem de compra sugerida automaticamente. Ao receber um pedido, o sistema atualiza o estoque e tamb√©m o **custo m√©dio** do insumo.

### üìã **Fichas T√©cnicas**
- **Custeio de Pratos (CMV):** Associe ingredientes e sub-receitas aos seus pratos para calcular o custo exato de cada um em tempo real.
- **Baixa Autom√°tica de Estoque:** Ao vender um prato, o sistema deduz automaticamente os ingredientes do estoque com base na ficha t√©cnica.
- **Vincular Sub-receitas ao Estoque:** Transforme uma sub-receita (ex: "Molho de Tomate") em um item de estoque control√°vel, permitindo a gest√£o da produ√ß√£o intermedi√°ria.
- **Otimiza√ß√£o com IA (Gemini):** Descreva um prato e deixe a IA gerar uma sugest√£o de ficha t√©cnica. Para receitas j√° prontas, a IA pode fornecer **dicas de otimiza√ß√£o de mise en place** para agilizar o preparo.

### üî™ **Mise en Place**
- **Planejamento de Produ√ß√£o:** Crie quadros de tarefas di√°rios para a prepara√ß√£o de sub-receitas e tarefas personalizadas (ex: "Limpar c√¢mara fria").
- **Atribui√ß√£o e Acompanhamento:** Atribua tarefas para funcion√°rios e esta√ß√µes espec√≠ficas e acompanhe o progresso em tempo real (A Fazer, Em Preparo, Conclu√≠do).
- **Integra√ß√£o com Estoque:** Ao concluir uma tarefa de produ√ß√£o, o sistema gera um **n√∫mero de lote** para rastreabilidade, calcula o **custo total da produ√ß√£o** e d√° baixa nos insumos, adicionando o item final (a sub-receita produzida) ao estoque.
- **Acesso R√°pido:** Visualize a ficha t√©cnica completa diretamente do card da tarefa, sem precisar sair da tela.

### üìÖ **Reservas**
- **Configura√ß√£o Flex√≠vel:** Defina seus hor√°rios de funcionamento para cada dia da semana, dura√ß√£o padr√£o da reserva, capacidade de pessoas por mesa e anteced√™ncia m√°xima.
- **Gest√£o Interna:** Cadastre e gerencie reservas diretamente no sistema, com vis√£o di√°ria ou uma vis√£o geral dos pr√≥ximos 15 dias.
- **P√°gina P√∫blica de Reservas:** Ative uma p√°gina p√∫blica onde seus clientes podem fazer reservas online 24/7, respeitando suas regras e capacidade.

### üë• **Recursos Humanos (RH)**
- **Cadastro Completo de Funcion√°rios:** Gerencie informa√ß√µes pessoais, de contato, contratuais, de pagamento e banc√°rias de toda a equipe.
- **Escalas de Trabalho:** Crie e publique escalas de trabalho semanais. Apenas escalas publicadas s√£o vis√≠veis para n√£o-gerentes.
- **Controle de Ponto:** Monitore e realize ajustes manuais nos registros de entrada, sa√≠da e pausas dos funcion√°rios. O registro em si √© feito pelo funcion√°rio logado.
- **Gest√£o de Aus√™ncias:** Aprove ou rejeite solicita√ß√µes de f√©rias e folgas. Os funcion√°rios t√™m uma tela para solicitar e acompanhar suas pr√≥prias aus√™ncias.
- **Folha de Pagamento:** Calcule uma pr√©via da folha de pagamento com base nas horas trabalhadas, considerando **horas extras com base em limites di√°rios e semanais**, e gere **contracheques (holerites)** detalhados e prontos para impress√£o.

### üíñ **CRM e Fidelidade**
- **Cadastro de Clientes:** Base de dados completa de clientes com hist√≥rico de consumo, pontos de fidelidade e observa√ß√µes.
- **Vis√£o 360¬∞ do Cliente:** Visualize o hist√≥rico completo de consumo e de pontos de fidelidade em uma tela detalhada.
- **Programa de Fidelidade:** Configure um sistema de pontos por valor gasto e crie recompensas flex√≠veis: **desconto fixo (R$), desconto percentual (%) ou um item gr√°tis** do seu card√°pio.
- **Resgate no PDV:** Permita que os clientes resgatem suas recompensas diretamente ao fazer um novo pedido na mesa ou no caixa.

### üöÄ **Performance e Relat√≥rios**
- **Relat√≥rios Financeiros Completos:** Gere relat√≥rios detalhados com Faturamento, Custo (CMV), Lucro Bruto e Resultado L√≠quido.
- **An√°lise Comparativa:** Compare o desempenho de vendas entre diferentes per√≠odos para identificar tend√™ncias.
- **An√°lise de Hor√°rios de Pico:** Visualize graficamente os hor√°rios e dias da semana com maior volume de vendas para otimizar sua opera√ß√£o.
- **An√°lise de Desempenho por Prato:** Descubra quais s√£o seus pratos mais lucrativos com relat√≥rios que incluem receita, custo, lucro total e margem de lucro por item.
- **Construtor de Relat√≥rios:** Crie relat√≥rios personalizados selecionando colunas, filtros e agrupamentos para extrair os dados exatos que voc√™ precisa.
- **Desempenho da Equipe:** Monitore as vendas, gorjetas e ticket m√©dio de cada funcion√°rio, al√©m da produtividade da cozinha por tarefas conclu√≠das e tempo de preparo.

### ‚öôÔ∏è **Configura√ß√µes e Card√°pio Online**
- **Gest√£o Centralizada:** Cadastre funcion√°rios, esta√ß√µes de produ√ß√£o, fornecedores, categorias de ingredientes, categorias de pratos (com imagem) e os dados da sua empresa (com logo).
- **Cargos e Permiss√µes:** Crie cargos personalizados (ex: Gar√ßom, Caixa) e defina quais telas cada cargo pode acessar, garantindo seguran√ßa e controle.
- **Card√°pio Online:** O sistema gera automaticamente um **QR Code** e um link para um card√°pio online p√∫blico e elegante, que inclui uma p√°gina de capa, o menu e uma p√°gina de informa√ß√µes com hor√°rios de funcionamento e contato.

### üéì **Tutoriais**
- **Central de Ajuda Integrada:** Guias passo a passo com imagens que ensinam a usar todas as funcionalidades do sistema, desde a configura√ß√£o inicial at√© as opera√ß√µes mais avan√ßadas.

---

## üó∫Ô∏è Roadmap de Futuras Funcionalidades

Para continuar evoluindo o ChefOS, planejamos implementar novas funcionalidades focadas em aumentar a lucratividade, efici√™ncia e a experi√™ncia do cliente.

### üéØ Alta Prioridade (Foco em Core Business e Lucratividade)

*   **M√≥dulo de Delivery e Integra√ß√µes:**
    *   **Integra√ß√£o com Marketplaces:** Recebimento autom√°tico de pedidos do iFood, Rappi, etc., diretamente no PDV e KDS.
    *   **Gest√£o de Entregadores:** Acompanhamento do status dos entregadores (pr√≥prios ou da plataforma).
    *   **Card√°pio Espec√≠fico para Delivery:** Gest√£o de pre√ßos e disponibilidade de itens para entrega.

*   **M√≥dulo de Relat√≥rios Avan√ßados:**
    *   **Dashboard de CMV vs. Vendas:** Acompanhamento da sa√∫de financeira em tempo real.

*   **Melhorias no PDV:**
    *   **Divis√£o de Conta por Item:** Permitir que clientes em uma mesma mesa paguem apenas o que consumiram.
    *   **Integra√ß√£o com Pagamento na Mesa:** Suporte para maquininhas de cart√£o que se comunicam com o sistema para fechar a conta na mesa.
    *   **Gest√£o de Combos e Modificadores:** Interface aprimorada para cria√ß√£o de ofertas "monte seu combo" e modificadores complexos.

### ‚≠ê M√©dia Prioridade (Melhorias de Efici√™ncia e Usabilidade)

*   **M√≥dulo de Estoque Avan√ßado:**
    *   **Controle de Desperd√≠cio:** Ferramenta para registrar perdas de insumos de forma detalhada (vencimento, quebra, etc.) para an√°lise de custos.

*   **Gest√£o de Vouchers e Cupons:**
    *   Cria√ß√£o e controle de cupons de desconto para uso no PDV.

*   **Melhorias no M√≥dulo de RH:**
    *   **Gest√£o de Documentos:** Armazenamento digital de contratos e documentos dos funcion√°rios.
    *   **Avalia√ß√µes de Desempenho:** Registro e acompanhamento de feedbacks e avalia√ß√µes peri√≥dicas.
    *   **Comunica√ß√£o Interna:** Mural de avisos e comunicados para a equipe.

*   **Melhorias no KDS:**
    *   **Suporte a "Bump Bar":** Permitir a finaliza√ß√£o de comandas com teclados f√≠sicos.
    *   **Consulta de Ficha T√©cnica:** Acesso r√°pido √† receita ou modo de preparo diretamente na tela da comanda.

### üí° Baixa Prioridade (Expans√£o e "Nice-to-haves")

*   **M√≥dulo de Multi-loja/Franquias:**
    *   **Gest√£o Centralizada:** Controle de card√°pio, funcion√°rios e relat√≥rios para m√∫ltiplas unidades.
    *   **Relat√≥rios Consolidados:** Vis√£o geral do desempenho de toda a rede.

*   **M√≥dulo de Eventos:**
    *   **Gest√£o de Reservas para Grupos:** Ferramenta para agendamento e organiza√ß√£o de eventos fechados.
    *   **Or√ßamentos e Card√°pios Personalizados:** Cria√ß√£o de pacotes e menus espec√≠ficos para eventos.

*   **M√≥dulo de Marketing:**
    *   **Campanhas de E-mail/SMS:** Envio de promo√ß√µes para a base de clientes cadastrados no CRM.

---

## üõ†Ô∏è Tecnologias Utilizadas

Este projeto foi constru√≠do com uma stack moderna e perform√°tica:

- **Frontend:** **Angular v20+**
  - **Standalone Components:** Arquitetura 100% baseada em componentes independentes, sem NgModules.
  - **Signals:** Gerenciamento de estado reativo, perform√°tico e intuitivo.
  - **Zoneless Change Detection:** Performance m√°xima ao eliminar a necessidade do Zone.js.
- **Backend & Database:** **Supabase**
  - **PostgreSQL:** Banco de dados relacional robusto.
  - **Authentication:** Gerenciamento de usu√°rios seguro.
  - **Realtime Subscriptions:** Sincroniza√ß√£o de dados em tempo real entre todos os clientes conectados.
- **Intelig√™ncia Artificial:** **Google Gemini API**
  - Utilizada para as funcionalidades de gera√ß√£o de fichas t√©cnicas e previs√£o de estoque.
- **UI / Styling:** **Tailwind CSS**
  - Framework CSS utility-first para uma prototipagem r√°pida e um design consistente.
- **Linguagem:** **TypeScript**
  - Tipagem est√°tica para um c√≥digo mais seguro e manuten√°vel.

---

## ‚öôÔ∏è Instala√ß√£o e Configura√ß√£o

Para executar este projeto, voc√™ precisa de credenciais para o Supabase e para a API do Google Gemini.

1.  **Crie um Projeto no Supabase:**
    - V√° para [supabase.com](https://supabase.com/) e crie um novo projeto.
    - No seu projeto, v√° para `Project Settings` > `API`.
    - Copie a **URL** e a **chave an√¥nima (`anon key`)**.

2.  **Obtenha uma Chave da API Gemini:**
    - V√° para o [Google AI Studio](https://aistudio.google.com/).
    - Clique em "Get API key" e copie sua chave.

3.  **Configure as Vari√°veis de Ambiente:**
    - Abra o arquivo `src/config/environment.ts`.
    - Substitua os valores placeholders pelas suas credenciais:

    ```typescript
    export const environment = {
      supabaseUrl: 'SUA_URL_DO_SUPABASE',
      supabaseAnonKey: 'SUA_CHAVE_ANONIMA_DO_SUPABASE',
      geminiApiKey: 'SUA_API_KEY_DO_GEMINI',
    };
    ```

4.  **Estrutura do Banco de Dados:**
    - O sistema espera uma estrutura de banco de dados espec√≠fica. Utilize o schema SQL fornecido no projeto (se aplic√°vel) para configurar suas tabelas no Supabase.

5.  **Execute o Projeto:**
    - Ap√≥s configurar as credenciais, o projeto est√° pronto para ser executado. Sirva o arquivo `index.html` em um servidor web.

---

## üìÅ Estrutura do Projeto

```
/src
|-- /app.component.*         # Componente Raiz
|-- /app.routes.ts           # Defini√ß√£o das rotas
|-- /components/             # M√≥dulos e componentes da aplica√ß√£o
|   |-- /auth/               # Login, sele√ß√£o de funcion√°rio
|   |-- /cashier/            # Tela do Caixa
|   |-- /dashboard/          # Tela do Dashboard
|   |-- /employees/          # Gest√£o de Funcion√°rios
|   |-- /inventory/          # Tela de Estoque
|   |-- /kds/                # Tela do KDS
|   |-- /leave-management/   # Gest√£o de aus√™ncias (Gerente)
|   |-- /menu/               # Card√°pio online (interno)
|   |-- /mise-en-place/      # Planejamento de produ√ß√£o
|   |-- /my-leave/           # Solicita√ß√£o de aus√™ncia (Funcion√°rio)
|   |-- /payroll/            # Folha de Pagamento
|   |-- /performance/        # An√°lise de desempenho
|   |-- /pos/                # Ponto de Venda
|   |-- /public-booking/     # P√°gina p√∫blica de reservas
|   |-- /purchasing/         # Gest√£o de compras
|   |-- /reports/            # Gera√ß√£o de relat√≥rios
|   |-- /reservations/       # Gest√£o interna de reservas
|   |-- /schedules/          # Gest√£o de escalas
|   |-- /settings/           # Configura√ß√µes gerais
|   |-- /technical-sheets/   # Fichas t√©cnicas
|   |-- /time-clock/         # Controle de ponto
|   |-- /tutorials/          # Central de ajuda
|   |-- /shared/             # Componentes compartilhados (modais, etc.)
|-- /config/                 # Arquivos de configura√ß√£o (environment)
|-- /guards/                 # Guards de autentica√ß√£o e permiss√£o
|-- /models/                 # Interfaces e tipos (TypeScript)
|-- /services/               # L√≥gica de neg√≥cio e comunica√ß√£o com APIs
|   |-- auth.service.ts      # Autentica√ß√£o principal
|   |-- supabase-state.service.ts # Gerenciamento de estado e Realtime
|   |-- ai-recipe.service.ts # Integra√ß√£o com Gemini API
|   |-- ... e outros
```

---

## üìÑ Licen√ßa

Este projeto √© distribu√≠do sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.